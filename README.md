# –í–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

[![–í–∏–¥–µ–æ –Ω–∞ YouTube](https://img.youtube.com/vi/_CdfB9-x0Qk/0.jpg)](https://youtu.be/_CdfB9-x0Qk)

# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –≤–∞–º –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Docker –∏ docker-compose, –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–Ω–µ–≤—É—é \
–ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `make up`, –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç—Å—è \
–∏ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ –∞–¥—Ä–µ—Å—É `localhost:8000`

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
–ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é docker-compose, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ Makefile —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

`make docker-compose-api` - –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é compose \
`make clean-data` - –æ—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–µ—à–∞\
`make docker-stop-api` - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤\
`make docker-clean-api` - —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã\
`make server-logs` - –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞ \

# –û –ø—Ä–æ–µ–∫—Ç–µ
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ Chi, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose, –ø–æ–º–∏–º–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø—Ä–æ–µ–∫—Ç—É —Ç—Ä–µ–±—É–µ—Ç—Å—è "–ø–æ–¥–Ω—è—Ç—å" –µ—â–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Postgresql, Redis –∏ Nats-streaming, —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ docker-compose. \
–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é links –≤ docker-compose —Ñ–∞–π–ª–µ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —è —Å—Ç–∞—Ä–∞–ª–∞—Å—å –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID, —Å—Ç–∞—Ä–∞–ª–∞—Å—å —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.\

–†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Ñ–∞–π–ª–µ ***.env***.\

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:

* GET (–∫–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
    * –ù–∞–ø—Ä–∏–º–µ—Ä:
      ```
      curl -X GET 'http://localhost:8000/
      ```
      * –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤–µ—Ä–Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
      ```
        Hello World
        Don't forget to smile, √§lskling üòå
      ```

  
* GET —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º order_id(—Å—Ç—Ä–æ–∫–∞) 
  * –ù–∞–ø—Ä–∏–º–µ—Ä:
      ```
      curl -X GET 'http://localhost:8000/{order_id}
      ```
      * –í —Å–ª—É—á–∞–µ —É—Å–ø–µ—Ö–∞ –≤–µ—Ä–Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
      ```
      {
        "order_uid": "b563feb7b2b84b6test",
        "track_number": "WBILMTESTTRACK",
        "entry": "WBIL",
        "delivery": {
        "name": "Test Testov",
        "phone": "+9720000000",
        "zip": "2639809",
        "city": "Kiryat Mozkin",
        "address": "Ploshad Mira 15",
        "region": "Kraiot",
        "email": "test@gmail.com"
        },
        "payment": {
        "transaction": "b563feb7b2b84b6test",
        "request_id": "",
        "currency": "USD",
        "provider": "wbpay",
        "amount": 1817,
        "payment_dt": 1637907727,
        "bank": "alpha",
        "delivery_cost": 1500,
        "goods_total": 317,
        "custom_fee": 0
        },
        "items": [
        {
        "chrt_id": 9934930,
        "track_number": "WBILMTESTTRACK",
        "price": 453,
        "rid": "ab4219087a764ae0btest",
        "name": "Mascaras",
        "sale": 30,
        "size": "0",
        "total_price": 317,
        "nm_id": 2389212,
        "brand": "Vivienne Sabo",
        "status": 202
        }
        ],
        "locale": "en",
        "internal_signature": "",
        "customer_id": "test",
        "delivery_service": "meest",
        "shardkey": "9",
        "sm_id": 99,
        "date_created": "2021-11-26T06:22:19Z",
        "oof_shard": "1"
      }
      ```

# –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
* –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ Chi, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
* –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –º–æ–∂–Ω–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ñ–∞–π–ª–∞ ***.env***
* –ü—Ä–æ–µ–∫—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å–ª–æ–∏, —á—Ç–æ –≤ –±—É–¥—É—â–µ–º –ø–æ–∑–≤–æ–ª—è–µ—Ç "–±–µ–∑–±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ" –∏ –±—ã—Å—Ç—Ä–æ –∑–∞–º–µ–Ω—è—Ç—å —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∫–µ—à

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
* –ü–æ–º–∏–º–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –º–Ω–æ–π –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
    *  –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª ***.env***
    *  –ó–∞–ø—É—Å–∫ –≤ docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
    *  –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –ë–î Redis, —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö —Å –æ–¥–Ω–∏–º –∫–µ—à–µ–º
    *  –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ö—ç–Ω–¥–ª –¥–ª—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è 
    *  –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é slog –ø–∞–∫–µ—Ç–∞